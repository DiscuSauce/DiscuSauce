{% extends "base.html" %}
{% block title %}Home{% endblock %}
{% block content %}
<h1>Welcome, {{ username }}!</h1>
{% if posts %}
    <ul class="posts">
        {% for post in posts %}
            <li>
                <h2>{{ post.user_info.username }}</h2>
                <p>{{ post.content }}</p>
                <form action="{{ url_for('upvote', post_id=post._id) }}" method="post">
                    <button type="submit">Upvote</button>
                </form>
                <form action="{{ url_for('downvote', post_id=post._id) }}" method="post">
                    <button type="submit">Downvote</button>
                </form>
                <form action="{{ url_for('delete', post_id=post._id) }}" method="post">
                    <button type="submit">Delete</button>
                </form>
                <form action="{{ url_for('comment', post_id=post._id) }}" method="post">
                    <input type="text" name="content" placeholder="Add a comment">
                    <button type="submit">Comment</button>
                </form>
                <p>Upvotes: {{ post.upvotes }} | Downvotes: {{ post.downvotes }}</p>
            </li>
        {% endfor %}
    </ul>
{% else %}
    <p>No posts to show.</p>
{% endif %}
{% endblock %}
