{% extends "base.html" %}
{% block title %}View Post{% endblock %}
{% block content %}
<h1>{{ post.user_info.username }}'s Post</h1>
<div class="post">
    <p>{{ post.content }}</p>
    <p>Upvotes: {{ post.upvotes }} | Downvotes: {{ post.downvotes }}</p>
</div>

{% if comments %}
    <h2>Comments</h2>
    <ul class="comments">
        {% for comment in comments %}
            <li>
                <strong>{{ comment.user_info.username }}</strong>: {{ comment.content }}
            </li>
        {% endfor %}
    </ul>
{% else %}
    <p>No comments yet.</p>
{% endif %}

{% if session.get('username') %}
    <form action="{{ url_for('comment', post_id=post._id) }}" method="post">
        <label for="content">Add a comment:</label>
        <textarea id="content" name="content"></textarea>
        <button type="submit">Submit</button>
    </form>
{% endif %}
{% endblock %}
